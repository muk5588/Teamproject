<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="menu.dao.MenuDao">
    <select id="menuList" resultType="Menu">
        select userno, nickname, g.gradename, g.comm
        from usertb u
        left outer join grade g on u.gradeno = g.gradeno
        <where>
                and g.gradeno <![CDATA[ < 5000 ]]>
        </where>
        order by userno
    </select>
    <select id="Update" parameterType="User" resultType="User">
        select userno, nickname, g.gradename, g.comm
        from usertb u
                 left outer join grade g
                                 on u.gradeno = g.gradeno
        WHERE userno = #{userno}
    </select>
    <update id="menuUpdate" parameterType="User">
        UPDATE usertb
        SET GRADENO = #{gradeno}
        WHERE userno = #{userno }
    </update>
    <select id="categoryList" resultType="Menu">
        select CATEGORYNO, CATEGORYNAME, g.gradename, g.comm
        from category c
        left outer join grade g on c.gradeno = g.gradeno
        <where>
            and g.gradeno <![CDATA[ < 5000 ]]>
        </where>
        order by CATEGORYNO
    </select>
    <select id="updateBorad" parameterType="Category" resultType="Category">
        select CATEGORYNO, CATEGORYNAME, g.gradename, g.comm
        from category c
                 left outer join grade g
                                 on c.gradeno = g.gradeno
        WHERE CATEGORYNO = #{categoryNo }
    </select>
    <update id="categoryUpdate" parameterType="Category">
        UPDATE CATEGORY
        SET GRADENO = #{gradeNo}
        WHERE CATEGORYNO = #{categoryNo }
    </update>
</mapper>














